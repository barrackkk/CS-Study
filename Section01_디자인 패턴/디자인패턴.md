# 디자인 패턴
> 정의 : 프로그램을 설계할 때 발생했떤 문제점들을 객체 상호 관계 등을 이용하여 해걸할 수 있도록 하나의 '규약' 형태로 만들어 놓은 것 

## 1. 싱글톤 패턴
> 하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴
> 보통 데이터베이스 연결 모듈에 많이 사용

 - 장점 
   - 하나의 인스턴스로 다른 모듈들이 공유하며 사용하기때문에 비용이 줄어듦
 - 단점 
   - 의존성이 높아 짐. 
   - TDD할 때 각 테스트마다 **독립적인** 인스턴스를 만들기가 어려움 
```
class Singleton {
    private static class singleInstanceHolder {
        private static final Singleton INSTANCE = new Singleton();
    }
    public static Singleton getInstance() {
        return singleInstanceHolder.INSTANCE;
    }
}

public class HelloWorld{ 
     public static void main(String []args){ 
        Singleton a = Singleton.getInstance(); 
        Singleton b = Singleton.getInstance(); 
        System.out.println(a.hashCode());
        System.out.println(b.hashCode());  
        if (a == b){
         System.out.println(true); 
        } 
     }
}
/*
705927765
705927765
true

*/
```

## 2. 팩토리 패턴 (Factory Pattern)

>> 객체 생성 로직을 별도 메서드/클래스에 위임하여, 클라이언트가 생성 로직을 알 필요 없이 객체를 생성하게 함.
>> 객체 생성 과정이 복잡하거나, 생성 타입이 동적으로 결정될 때.

 - 장점
   - 생성 로직 캡슐화
   - 코드 재사용성 향상
 - 단점
   - 클래스 수 증가, 복잡성 상승

```
interface Product { 
   void use(); 
}
class ConcreteProductA implements Product { 
   public void use(){
      System.out.println("A");
   } 
}
   
class ProductFactory {
    public static Product create(String type) {
        if ("A".equals(type)) return new ConcreteProductA();
        throw new IllegalArgumentException();
    }
}
```